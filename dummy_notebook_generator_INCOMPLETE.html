<!-- code ripped from https://thiscouldbebetter.wordpress.com/2012/12/18/loading-editing-and-saving-a-text-file-in-html5-using-javascrip/ -->
<html>
<body>
 
<table>
    <tr><td>Notebook Generator:</td></tr>
    <tr>
        <td colspan="3">
        Subtopic Levels (depth) (1-4): <input id="levels" type="number" min="1" max="4" value="1" />
        </td>
    </tr>
    <tr>
        <td colspan="3">
        Subtopics per Suptopic (1-10): <input id="subtopics" type="number" min="1" max="10" value="1" />
        </td>
    </tr>
    <tr>
        <td colspan="3">
        Subnotes per Subtopic (1-10): <input id="subnotes" type="number" min="1" max="10" value="1" />
        </td>
    </tr>    
    <tr>
        <td colspan="3">
        Flashcards per Subtopic (1-3): <input id="flashcardsSubtopic" type="number" min="1" max="3" value="1" />
        </td>
    </tr>   
    <tr>
        <td colspan="3">
        Flashcards per Subnote (1-3): <input id="flashcardsSubnote" type="number" min="1" max="3" value="1" />
        </td>
    </tr>   
    <tr>
        <td colspan="3">
        QAs per Flashcard (1-3): <input id="qas" type="number" min="1" max="3" value="1" />
        </td>
    </tr>   
    <tr>
        <td>Notebook name:</td>
        <td><input id="notebookName"></input></td>
        <td><button onclick="downloadNotebook()">Save Text to File</button></td>
    </tr>
</table>
 
<script type="text/javascript">
 
function downloadNotebook()
{
    var depth = document.getElementById("levels").value;
    var numST = document.getElementById("subtopics").value;
    var numSN = document.getElementById("subnotes").value;
    var numFCpST = document.getElementById("flashcardsSubtopic").value;
    var numFCpSN = document.getElementById("flashcardsSubnote").value;
    var numQA = document.getElementById("qas").value;
    var notebookName = document.getElementById("notebookName").value;
    var notebook = { notebook: notebookName };
    //
    //
    // YOUR CHALLENGE!!! (if you choose to accept it)
    // add subtopics/subnotes/flashcards/QAs to notebook here... 
    // (Note: this is were our custom "subnotes" module would come in handy)
    // dummy text in node might say what it's location is in the notebook, 
    // like a subtopics topic could be "subtopic 2.1.4"
    //
    // EXTRA CHALLANGE: functional programming and immutable objects seem to all the rage in 
    // javascript (and React) if you want to try an implement that in your solution)
    //
    //
    var notebookJSON = JSON.stringify(notebook);
    var notebookBlob = new Blob([notebookJSON], {type:"application/json"});
    var notebookURL = window.URL.createObjectURL(notebookBlob);
    var downloadLink = document.createElement("a");
    downloadLink.download = notebookName + ".json";
    downloadLink.innerHTML = "Download File";
    downloadLink.href = notebookURL;
    downloadLink.onclick = destroyClickedElement;
    downloadLink.style.display = "none";
    document.body.appendChild(downloadLink);
    downloadLink.click();
}
 
function destroyClickedElement(event)
{
    document.body.removeChild(event.target);
}
 
</script>
 
</body>
</html>
